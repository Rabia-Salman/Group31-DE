# -*- coding: utf-8 -*-
"""sports data from google trends.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1wv_7N86XZ9ssnLtMWhbL3IGYvjQt4Nh4
"""

!pip install pytrends pandas

!pip install --upgrade urllib3==1.25.11

!pip install --upgrade pytrends

from pytrends.request import TrendReq
import pandas as pd

from collections.abc import KeysView
from pytrends.request import TrendReq
import pandas as pd
import time

pytrends = TrendReq(hl='en-US', tz=360, retries=5, backoff_factor=0.5)
pytrends.headers.update({'User-Agent': 'Mozilla/5.0'})

# keywords = ["sports", "cricket", "soccer", "hockey", "ipl","triseries", "Pak vs nz final"]
keywords = ["Pak vs nz final", "soccer"]

try:
    pytrends.build_payload(keywords, timeframe='today 12-m', geo='')
    data = pytrends.interest_over_time()
    time.sleep(5)
except Exception as e:
    print(f"An error occurred: {e}")
    data = pd.DataFrame()


if not data.empty:
    data.to_csv('google_trends_data2.csv')
    print("Data saved to google_trends_data.csv")
else:
    print("No data returned. Try different keywords or timeframe.")

